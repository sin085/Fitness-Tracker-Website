<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title id="page-title">sAIhat - Add Food</title> 
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #000000;
            color: #f0f0f0;
        }
        .gradient-text-red {
            background: -webkit-linear-gradient(45deg, #ff2d2d, #ff7b7b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .neon-glow-text {
            text-shadow: 0 0 5px rgba(255, 45, 45, 0.8), 0 0 10px rgba(255, 45, 45, 0.6);
        }
        .card-bg {
            background-color: rgba(17, 17, 17, 0.7);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 45, 45, 0.2);
        }
        .input-bg {
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .input-bg:focus-within {
            border-color: rgba(255, 45, 45, 0.5);
            box-shadow: 0 0 10px rgba(255, 45, 45, 0.2);
        }
        .tab-active {
            color: #ff2d2d;
            border-bottom: 2px solid #ff2d2d;
            text-shadow: 0 0 5px rgba(255, 45, 45, 0.8);
        }
        /* Fade-in animation */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        .fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
        }
        /* Website name styling */
        .website-name {
            font-weight: 800;
            font-size: 1.5rem; /* Adjusted for header */
            letter-spacing: -1px;
            color: #f0f0f0; /* Default to white for 's' and 'hat' */
        }
        .website-name .ai-part {
            color: #e53e3e; /* Red color for 'AI' */
            font-style: italic;
        }
        /* Meal type dropdown styles - Improved Scroll */
        .meal-dropdown {
            position: absolute;
            background-color: #1a1a1a;
            border: 1px solid #333;
            border-radius: 0.5rem;
            width: 150px;
            max-height: 160px; /* Adjusted max-height to better control scroll */
            overflow-y: auto;
            top: 100%; /* Position below the header title */
            left: 50%;
            transform: translateX(-50%);
            z-index: 20; /* Above other content */
            display: none;
            flex-direction: column;
            padding: 0.5rem 0;
            /* Custom Scrollbar for Webkit (Chrome, Safari) */
            &::-webkit-scrollbar {
                width: 8px;
            }
            &::-webkit-scrollbar-track {
                background: #2a2a2a;
                border-radius: 10px;
            }
            &::-webkit-scrollbar-thumb {
                background: #e53e3e;
                border-radius: 10px;
            }
            &::-webkit-scrollbar-thumb:hover {
                background: #c53030;
            }
        }
        .meal-dropdown.open {
            display: flex;
        }
        .meal-dropdown-item {
            padding: 0.75rem 1rem;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .meal-dropdown-item:hover {
            background-color: #2a2a2a;
        }
    </style>
</head>
<body class="text-white antialiased">
    <div class="absolute top-0 left-0 w-full h-full bg-black"></div>

    <div id="app" class="relative z-10 p-4"> <header class="flex justify-between items-center mb-6">
            <a href="Smart_Nutrition_Tracker.html" class="text-slate-300 hover:text-white transition-colors">
                <i data-lucide="arrow-left" class="w-6 h-6"></i>
            </a>

            <div class="relative flex-1 text-center flex items-center justify-center gap-2 cursor-pointer" id="meal-type-container">
                <h1 class="text-xl font-bold" id="meal-type-display">Add Food</h1>
                <i data-lucide="chevron-down" class="w-5 h-5 text-red-500"></i>
                <div id="meal-type-dropdown" class="meal-dropdown">
                    <span class="meal-dropdown-item" data-meal="Breakfast">Breakfast</span>
                    <span class="meal-dropdown-item" data-meal="Lunch">Lunch</span>
                    <span class="meal-dropdown-item" data-meal="Snack">Snack</span>
                    <span class="meal-dropdown-item" data-meal="Dinner">Dinner</span>
                </div>
            </div>

            <h1 class="website-name">s<span class="ai-part">AI</span>hat</h1>
        </header>

        <div class="relative mb-6">
            <div class="input-bg rounded-full flex items-center px-4 py-2 transition-all">
                <i data-lucide="search" class="w-5 h-5 text-slate-400 mr-3"></i>
                <input type="text" placeholder="Search Food" class="w-full bg-transparent focus:outline-none text-white">
            </div>
        </div>
        
        <div class="flex items-center justify-between border-b border-gray-800 mb-6 text-sm">
            <a href="#" class="py-2 px-3 tab-active font-semibold">All</a>
            <a href="#" class="py-2 px-3 text-slate-400 hover:text-white transition-colors">My Meals</a>
            <a href="#" class="py-2 px-3 text-slate-400 hover:text-white transition-colors">My Recipes</a>
            <a href="#" class="py-2 px-3 text-slate-400 hover:text-white transition-colors">My Foods</a>
        </div>
        
        <div class="grid grid-cols-4 gap-4 mb-8 text-center">
            <div class="flex flex-col items-center gap-2 fade-in-up" style="animation-delay: 100ms;">
                <button class="w-14 h-14 card-bg rounded-xl flex items-center justify-center hover:border-red-500/50 transition-colors"><i data-lucide="scan-barcode" class="w-7 h-7 text-red-400"></i></button>
                <span class="text-xs text-slate-300">Barcode</span>
            </div>
            <div class="flex flex-col items-center gap-2 fade-in-up" style="animation-delay: 200ms;">
                <button class="w-14 h-14 card-bg rounded-xl flex items-center justify-center hover:border-red-500/50 transition-colors"><i data-lucide="mic" class="w-7 h-7 text-red-400"></i></button>
                <span class="text-xs text-slate-300">Voice log</span>
            </div>
            <div class="flex flex-col items-center gap-2 fade-in-up" style="animation-delay: 300ms;">
                <button class="w-14 h-14 card-bg rounded-xl flex items-center justify-center hover:border-red-500/50 transition-colors"><i data-lucide="camera" class="w-7 h-7 text-red-400"></i></button>
                <span class="text-xs text-slate-300">Meal scan</span>
            </div>
            <div class="flex flex-col items-center gap-2 fade-in-up" style="animation-delay: 400ms;">
                <button class="w-14 h-14 card-bg rounded-xl flex items-center justify-center hover:border-red-500/50 transition-colors"><i data-lucide="plus-circle" class="w-7 h-7 text-red-400"></i></button>
                <span class="text-xs text-slate-300">Quick add</span>
            </div>
        </div>

        <div>
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-lg font-bold">Quick Log</h2>
                <button class="flex items-center gap-2 text-sm text-slate-400 hover:text-white transition-colors">
                    <i data-lucide="list-filter" class="w-4 h-4"></i>
                    <span>Most Recent</span>
                </button>
            </div>
            
            <ul class="space-y-3">
                <li class="card-bg p-4 rounded-lg flex items-center justify-between fade-in-up" style="animation-delay: 500ms;">
                    <div>
                        <p class="font-semibold">Pure Ghee</p>
                        <p class="text-sm text-slate-400">45 cal, 5 gram, Mother Dairy</p>
                    </div>
                    <button class="w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center text-red-300 hover:bg-red-500/40 transition-colors"><i data-lucide="plus" class="w-5 h-5"></i></button>
                </li>
                   <li class="card-bg p-4 rounded-lg flex items-center justify-between fade-in-up" style="animation-delay: 600ms;">
                    <div>
                        <p class="font-semibold flex items-center gap-2">Egg <i data-lucide="check-circle-2" class="w-4 h-4 text-green-500"></i></p>
                        <p class="text-sm text-slate-400">252 cal, 4 medium</p>
                    </div>
                    <button class="w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center text-red-300 hover:bg-red-500/40 transition-colors"><i data-lucide="plus" class="w-5 h-5"></i></button>
                </li>
                   <li class="card-bg p-4 rounded-lg flex items-center justify-between fade-in-up" style="animation-delay: 700ms;">
                    <div>
                        <p class="font-semibold">Boiled White Rice</p>
                        <p class="text-sm text-slate-400">377 cal, 290 g, Boiled White Rice</p>
                    </div>
                    <button class="w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center text-red-300 hover:bg-red-500/40 transition-colors"><i data-lucide="plus" class="w-5 h-5"></i></button>
                </li>
                <li class="card-bg p-4 rounded-lg flex items-center justify-between fade-in-up" style="animation-delay: 800ms;">
                    <div>
                        <p class="font-semibold flex items-center gap-2">Chicken breast, cooked <i data-lucide="check-circle-2" class="w-4 h-4 text-green-500"></i></p>
                        <p class="text-sm text-slate-400">528 cal, 300 gram</p>
                    </div>
                    <button class="w-10 h-10 rounded-full bg-red-500/20 flex items-center justify-center text-red-300 hover:bg-red-500/40 transition-colors"><i data-lucide="plus" class="w-5 h-5"></i></button>
                </li>
            </ul>
        </div>
    </div>

    <script>
        lucide.createIcons();

        document.addEventListener('DOMContentLoaded', function() {
            const pageTitleElement = document.getElementById('page-title');
            const mealTypeDisplay = document.getElementById('meal-type-display');
            const mealTypeContainer = document.getElementById('meal-type-container');
            const mealTypeDropdown = document.getElementById('meal-type-dropdown');
            const mealDropdownItems = document.querySelectorAll('.meal-dropdown-item');

            // Function to get URL parameters
            const getUrlParameter = (name) => {
                name = name.replace(/[\[]/, '\\[').replace(/[\]]/, '\\]');
                const regex = new RegExp('[\\?&]' + name + '=([^&#]*)');
                const results = regex.exec(location.search);
                return results === null ? '' : decodeURIComponent(results[1].replace(/\+/g, ' '));
            };

            // Set initial meal type from URL
            let currentMealType = getUrlParameter('meal');
            if (currentMealType) {
                mealTypeDisplay.textContent = currentMealType;
                pageTitleElement.textContent = `sAIhat - Add Food - ${currentMealType}`;
            } else {
                // Default if no meal is specified in URL
                currentMealType = 'Breakfast'; // Or any other default
                mealTypeDisplay.textContent = currentMealType;
                pageTitleElement.textContent = `sAIhat - Add Food - ${currentMealType}`;
            }

            // Toggle dropdown visibility
            mealTypeContainer.addEventListener('click', (event) => {
                event.stopPropagation(); // Prevent click from immediately closing it
                mealTypeDropdown.classList.toggle('open');
            });

            // Handle selection from dropdown
            mealDropdownItems.forEach(item => {
                item.addEventListener('click', (event) => {
                    const selectedMeal = event.target.dataset.meal;
                    mealTypeDisplay.textContent = selectedMeal;
                    pageTitleElement.textContent = `sAIhat - Add Food - ${selectedMeal}`;
                    mealTypeDropdown.classList.remove('open'); // Close dropdown after selection
                    // Optionally, update the URL to reflect the new meal type (without reloading)
                    history.replaceState(null, '', `?meal=${selectedMeal}`);
                });
            });

            // Close dropdown if clicked outside
            document.addEventListener('click', (event) => {
                if (!mealTypeContainer.contains(event.target)) {
                    mealTypeDropdown.classList.remove('open');
                }
            });
        });
    </script>
</body>
</html>